/* Ideia do codigo: a cada 30 segundos o sensor deve pegar 1000 amostras a uma velocidade de 1KHz
 com essas mil amostras iremos calcular a corrente eficaz, multiplicar com a tensao eficaz e teremos a potencia
 a potencia * os 30 segundos/(3600*1000) vai dar rem KWh, a qual vai ser multiplicada pelo preco da tarifa
tem q pensar como colocar os intervalos de tempo

*/

float Irms, P, RS, preco, Isensor[1000],i,j ;
float energia = 0;
#define diasmes 30
#define tentreamostras 30
#define Vrms 127
float medir_Irms(Irms);
float calcular_valor();

int main(){

for ( i = 0; i < i<(diasmes*24*3600)/tentreamostras; i++)
{
    medir_Irms(Irms);
    calcular_valor();
    
}


}

float medir_Irms(Irms){ 
      
        float sum = 0;
for (int j = 0; j < 1000; j++) {
    sum += pow(Isensor[j], 2);
}
float rms = sqrt(sum / 1000);
float Irms = rms * sqrt(2);

}

float calcular_valor(){
    P= Vrms * Irms;
    energia += P * tentreamostras/(3600*1000);
    RS = preco * energia; 

}